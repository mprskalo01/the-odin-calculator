class t{constructor(){if(this.firstNum=null,this.operator="",this.calculated=!1,this.period=!1,this.display=document.querySelector(".display"),this.previousNumber=document.querySelector(".previousNumber"),this.periodButton=document.querySelector("#period"),!this.display||!this.previousNumber||!this.periodButton)throw Error("Required DOM elements not found");this.initializeEventListeners()}initializeEventListeners(){document.querySelectorAll("[data-number]").forEach(t=>{t.addEventListener("click",t=>{let e=t.target;this.addNumber(e.dataset.number)})}),document.querySelectorAll("[data-operator]").forEach(t=>{t.addEventListener("click",t=>{let e=t.target;this.setOperator(e.dataset.operator)})}),document.querySelectorAll("[data-action]").forEach(t=>{t.addEventListener("click",t=>{switch(t.target.dataset.action){case"clear":this.clearEverything();break;case"backspace":this.backspace();break;case"period":this.setPeriod();break;case"equals":this.operate()}})})}add(t,e){return t+e}subtract(t,e){return t-e}multiply(t,e){return t*e}divide(t,e){return 0===e?(alert("Cannot divide by 0"),this.clearEverything(),null):t/e}modulus(t,e){return t%e}clearDisplay(){this.display.textContent="",this.period=!1,this.disablePeriod(!1)}clearEverything(){this.clearDisplay(),this.previousNumber.textContent="",this.operator="",this.calculated=!1,this.firstNum=null}addNumber(t){this.calculated=!1,this.calculated&&!this.previousNumber.textContent&&this.clearEverything(),this.display.textContent=`${this.display.textContent??""}${t}`}backspace(){this.calculated=!1;let t=this.display.textContent??"";"."===t.slice(-1)&&(this.period=!1,this.disablePeriod(!1)),this.display.textContent=t.slice(0,-1)}setPeriod(){let t=this.display.textContent??"";this.period||""===t||(this.period=!0,this.display.textContent=`${t}.`,this.disablePeriod(!0))}disablePeriod(t){this.periodButton.disabled=t,t?this.periodButton.classList.add("disabled"):this.periodButton.classList.remove("disabled")}setOperator(t){let e=this.display.textContent??"";""!==e&&"."!==e&&(null===this.firstNum||this.calculated?this.firstNum=parseFloat(e):this.operate(),this.operator=t,this.previousNumber.textContent=`${this.firstNum} ${t}`,this.clearDisplay())}toFixedIfNecessary(t){return+parseFloat(t.toString()).toFixed(6)}operate(){let t;let e=this.display.textContent??"";if(""===e||"."===e||null===this.firstNum)return;let i=parseFloat(e);switch(this.operator){case"+":t=this.add(this.firstNum,i);break;case"-":t=this.subtract(this.firstNum,i);break;case"*":t=this.multiply(this.firstNum,i);break;case"/":{let e=this.divide(this.firstNum,i);if(null===e)return;t=e;break}case"%":t=this.modulus(this.firstNum,i);break;default:console.log("Invalid operator");return}this.display.textContent=this.toFixedIfNecessary(t).toString(),this.previousNumber.textContent="",this.operator="",this.calculated=!0,this.firstNum=t}}document.addEventListener("DOMContentLoaded",()=>{new t});
//# sourceMappingURL=index.458b25c9.js.map
